{"version":3,"sources":["PopupDom.js","Detail.js","Movie.js","Combobox.js","SearchItem.js","SearchBar.js","App.js","index.js"],"names":["Popup","props","ref","el","document","getElementById","React","useEffect","handleClickOutside","e","getElementsByClassName","contains","target","click","addEventListener","removeEventListener","ReactDom","createPortal","children","Detail","className","onClick","onClose","title","src","large_cover_image","alt","year","rating","genres","map","genre","index","summary","yt_trailer_code","slug","allow","allowFullScreen","Movie","handleError","onError","state","id","openMovie","bind","closeMovie","this","setState","isOpenMovie","Component","Combobox","handleChange","onSelect","value","name","toUpperCase","options","onChange","opt","SearchItem","openSearch","closeSearch","isSearchPopup","SearchBar","a","style","display","axios","get","url","movies","data","items","type","placeholder","length","item","App","getMovies","sort_by","order_by","page","base_url","isLoading","prevDisable","nextDisable","errorImage","forEach","movie","slice","selectSort","toLowerCase","selectOrder","pagePrev","pageNext","disabled","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.50a5c6c3.chunk.js","sourcesContent":["import React from \"react\";\r\nimport ReactDom from 'react-dom';\r\n\r\nfunction useOutsideAlerter(ref) {\r\n    React.useEffect(() => {\r\n        function handleClickOutside(e) {\r\n            if (!ref.getElementsByClassName(\"detail\")[0].contains(e.target)) {\r\n                ref.getElementsByClassName(\"detail__close\")[0].click();\r\n            }\r\n        } document.addEventListener(\"click\", handleClickOutside);\r\n        return () => { document.removeEventListener(\"click\", handleClickOutside); }\r\n    })\r\n};\r\n\r\nfunction Popup(props) {\r\n    const el = document.getElementById(\"popup\");\r\n    useOutsideAlerter(el);\r\n    return ReactDom.createPortal(props.children, el);\r\n};\r\n\r\nexport default Popup;","import React from 'react';\r\nimport './Detail.css';\r\n\r\nfunction Detail(props) {\r\n    return (\r\n        <div className=\"detail\">\r\n            <div className=\"detail__close\" onClick={props.onClose}>x</div>\r\n            <div className=\"detail__content\">\r\n                <h1>{props.title}</h1>\r\n                <img src={props.large_cover_image} alt={props.title} title={props.title} />\r\n                <h6>{props.year}</h6>\r\n                {props.rating && 0 < props.rating ? <h6>{props.rating} / 10</h6> : null}\r\n                {props.genres && props.genres.map((genre, index) => <h6 key={index}>{genre}</h6>)}\r\n                {props.summary &&\r\n                    <div>\r\n                        <h3>Synopsis</h3>\r\n                        <div>{props.summary}</div>\r\n                    </div>\r\n                }\r\n                {props.yt_trailer_code &&\r\n                    <div>\r\n                        <h3>Trailer</h3>\r\n                        <iframe className=\"detail__video\" title={props.slug} src={`https://www.youtube.com/embed/${props.yt_trailer_code}`} allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\r\n                    </div>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Detail;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Popup from \"./PopupDom\";\r\nimport Detail from \"./Detail\";\r\nimport './Movie.css';\r\n\r\nclass Movie extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            id: props.id,\r\n            title: props.title,\r\n            slug: props.slug,\r\n            genres: props.genres,\r\n            rating: props.rating,\r\n            large_cover_image: props.large_cover_image,\r\n            year: props.year,\r\n            summary: props.summary,\r\n            yt_trailer_code: props.yt_trailer_code,\r\n            state: props.state\r\n        };\r\n\r\n        this.openMovie = this.openMovie.bind(this);\r\n        this.closeMovie = this.closeMovie.bind(this);\r\n        this.handleError = this.handleError.bind(this);\r\n    }\r\n\r\n    openMovie() {\r\n        this.setState({ isOpenMovie: true });\r\n    }\r\n\r\n    closeMovie() {\r\n        this.setState({ isOpenMovie: false });\r\n    }\r\n\r\n    handleError = () => {\r\n        this.props.onError(this.state.id);\r\n    }\r\n\r\n    render() {\r\n        const { title, slug, genres, rating, large_cover_image, year, summary, yt_trailer_code, state, isOpenMovie } = this.state;\r\n        return (\r\n            <div className=\"movie\">\r\n                <div className=\"figure\" onClick={this.openMovie}>\r\n                    <img src={large_cover_image} alt={title} title={title} onError={this.handleError} />\r\n                    <div className=\"figcaption\">\r\n                        {rating && 0 < rating ? <div>{rating} / 10</div> : null}\r\n                        {genres && genres.map((genre, index) => <div key={index}>{genre}</div>)}\r\n                    </div>\r\n                </div>\r\n                <div className=\"title\" onClick={this.openMovie}>\r\n                    <span>{title}</span>\r\n                </div>\r\n                <div className=\"year\">\r\n                    <span>{year}</span>\r\n                </div>\r\n                {isOpenMovie &&\r\n                    <Popup>\r\n                        <Detail\r\n                            title={title}\r\n                            slug={slug}\r\n                            genres={genres}\r\n                            rating={rating}\r\n                            large_cover_image={large_cover_image}\r\n                            year={year}\r\n                            summary={summary}\r\n                            yt_trailer_code={yt_trailer_code}\r\n                            state={state}\r\n                            onClose={this.closeMovie}\r\n                        />\r\n                    </Popup>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nMovie.propTypes = {\r\n    id: PropTypes.number.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    slug: PropTypes.string.isRequired,\r\n    genres: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n    rating: PropTypes.number.isRequired,\r\n    large_cover_image: PropTypes.string.isRequired,\r\n    year: PropTypes.number.isRequired,\r\n    summary: PropTypes.string.isRequired,\r\n    yt_trailer_code: PropTypes.string.isRequired,\r\n    state: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Movie;","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport './Combobox.css';\r\n\r\nclass Combobox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name,\r\n            value: props.value.toUpperCase(),\r\n            options: props.options\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.props.onSelect(e.target.value);\r\n    }\r\n\r\n    render() {\r\n        const { name, value, options } = this.state;\r\n        return (\r\n            <form className=\"cb_box\">\r\n                <label className=\"cb_box__label\">{name}</label>\r\n                <select className=\"cb_box__control\" value={value} onChange={this.handleChange}>\r\n                    {options.map((opt, index) => <option key={index} value={opt}>{opt}</option>)}\r\n                </select>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nCombobox.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    options: PropTypes.arrayOf(PropTypes.string).isRequired\r\n}\r\n\r\nexport default Combobox;","import React from 'react';\r\nimport Popup from \"./PopupDom\";\r\nimport Detail from \"./Detail\";\r\nimport './SearchItem.css';\r\n\r\nclass SearchItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            id: props.id,\r\n            title: props.title,\r\n            slug: props.slug,\r\n            genres: props.genres,\r\n            rating: props.rating,\r\n            large_cover_image: props.large_cover_image,\r\n            year: props.year,\r\n            summary: props.summary,\r\n            yt_trailer_code: props.yt_trailer_code,\r\n            state: props.state,\r\n        }\r\n        this.openSearch = this.openSearch.bind(this);\r\n        this.closeSearch = this.closeSearch.bind(this);\r\n    }\r\n\r\n    openSearch() {\r\n        this.setState({ isSearchPopup: true });\r\n    }\r\n\r\n    closeSearch() {\r\n        this.setState({ isSearchPopup: false });\r\n    }\r\n\r\n    render() {\r\n        const { title, slug, genres, rating, large_cover_image, year, summary, yt_trailer_code, state, isSearchPopup } = this.state;\r\n        return (\r\n            <div className=\"item\">\r\n                <img className=\"image\" src={large_cover_image} alt={title} title={title} onClick={this.openSearch} />\r\n                <div className=\"data\" onClick={this.openSearch}>\r\n                    <h6 className=\"title\">{title}</h6>\r\n                    <h6 className=\"year\">{year}</h6>\r\n                </div>\r\n                {isSearchPopup &&\r\n                    <Popup>\r\n                        <Detail\r\n                            title={title}\r\n                            slug={slug}\r\n                            genres={genres}\r\n                            rating={rating}\r\n                            large_cover_image={large_cover_image}\r\n                            year={year}\r\n                            summary={summary}\r\n                            yt_trailer_code={yt_trailer_code}\r\n                            state={state}\r\n                            onClose={this.closeSearch}\r\n                        />\r\n                    </Popup>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchItem;","import React from 'react';\r\nimport axios from \"axios\";\r\nimport SearchItem from \"./SearchItem\";\r\nimport './SearchBar.css';\r\n\r\nclass SearchBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: []\r\n        }\r\n    }\r\n\r\n    handleChange = async (e) => {\r\n        if (e.target.value) {\r\n            document.getElementsByClassName(\"searchbar\")[0]\r\n                .getElementsByClassName(\"items\")[0].style.display = \"block\";\r\n        }\r\n        else {\r\n            document.getElementsByClassName(\"searchbar\")[0]\r\n                .getElementsByClassName(\"items\")[0].style.display = \"none\";\r\n            return;\r\n        }\r\n\r\n        const { data: { data: { movies } } } = await axios.get(\r\n            `${this.props.url}?query_term=${e.target.value}&limit=50`\r\n        );\r\n        this.setState({ items: movies });\r\n    }\r\n\r\n    render() {\r\n        const { items } = this.state;\r\n        return (\r\n            <div className=\"searchbar\">\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"input\"\r\n                    placeholder=\"Search movies\"\r\n                    onChange={this.handleChange}\r\n                />\r\n                <div className=\"items\">\r\n                    {items && 0 < items.length &&\r\n                    items.map(item =>\r\n                        <SearchItem\r\n                            key={item.id}\r\n                            title={item.title}\r\n                            genres={item.genres}\r\n                            rating={item.rating}\r\n                            large_cover_image={item.large_cover_image}\r\n                            year={item.year}\r\n                            summary={item.summary}\r\n                            yt_trailer_code={item.yt_trailer_code}\r\n                            state={item.state}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchBar;","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Movie from \"./Movie\";\r\nimport Combobox from \"./Combobox\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport \"./App.css\";\r\nimport './Main.css';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.base_url = \"https://yts.mx/api/v2/list_movies.json\";\r\n    this.state = {\r\n      isLoading: true,\r\n      sort_by: 'rating',\r\n      order_by: 'desc',\r\n      page: 1\r\n    }\r\n  }\r\n\r\n  getMovies = async () => {\r\n    const { sort_by, order_by, page } = this.state;\r\n    const { data: { data: { movies } } } = await axios.get(\r\n      `${this.base_url}?sort_by=${sort_by}&order_by=${order_by}&page=${page}&limit=50`\r\n    );\r\n    this.setState({ movies, isLoading: false });\r\n    \r\n    if (1 < this.state.page) {\r\n      this.setState({\r\n        prevDisable: false\r\n      })\r\n    }\r\n    else {\r\n      this.setState({\r\n        prevDisable: true\r\n      })\r\n    }\r\n\r\n    if (this.state.page < 691) {\r\n      this.setState({\r\n        nextDisable: false\r\n      })\r\n    }\r\n    else {\r\n      this.setState({\r\n        nextDisable: true\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getMovies();\r\n  }\r\n\r\n  errorImage = (data) => {\r\n    const { movies } = this.state;\r\n    movies.forEach((movie, index) => {\r\n      if (movie.id === data) {\r\n        this.setState({\r\n          movies: [\r\n            ...movies.slice(0, index),\r\n            ...movies.slice(index + 1, movies.length)\r\n          ]\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  selectSort = (data) => {\r\n    this.setState({\r\n        isLoading: true,\r\n        sort_by: data.toLowerCase()\r\n    }, () => {\r\n      this.getMovies();\r\n    });\r\n  }\r\n\r\n  selectOrder = (data) => {\r\n    this.setState({\r\n      isLoading: true,\r\n      order_by: data.toLowerCase()\r\n    }, () => {\r\n      this.getMovies();\r\n    });\r\n  }\r\n\r\n  pagePrev = () => {\r\n    if (1 < this.state.page) {\r\n      this.setState({\r\n        isLoading: true,\r\n        page: this.state.page - 1\r\n      }, () => {\r\n        this.getMovies();\r\n      });\r\n    }\r\n  }\r\n\r\n  pageNext = () => {\r\n    if (this.state.page < 691) {\r\n      this.setState({\r\n        isLoading: true,\r\n        page: this.state.page + 1\r\n      }, () => {\r\n        this.getMovies();\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, prevDisable, nextDisable, movies, sort_by,  order_by } = this.state;\r\n    return (\r\n      <div className=\"app\">\r\n        <h1 className=\"title\">Movie Box</h1>\r\n        {!isLoading &&\r\n        <div className=\"ctrl\">\r\n          <div className=\"ctrl__select\">\r\n            <Combobox\r\n              key=\"sort_by\"\r\n              name=\"Sort by\"\r\n              value={sort_by}\r\n              options={[\r\n                \"RATING\",\r\n                \"TITLE\",\r\n                \"YEAR\"\r\n              ]}\r\n              onSelect={this.selectSort}\r\n            />\r\n            <Combobox\r\n              key=\"order_by\"\r\n              name=\"Order by\"\r\n              value={order_by}\r\n              options={[\r\n                \"DESC\",\r\n                \"ASC\"\r\n              ]}\r\n              onSelect={this.selectOrder}\r\n            />\r\n          </div>\r\n          <div className=\"ctrl__search\">\r\n            <SearchBar url={this.base_url} />\r\n          </div>\r\n        </div>}\r\n        <section className=\"container\" id=\"popup\">\r\n          {isLoading ? (\r\n            <div className=\"loader\">\r\n              <span>Loading data...</span>\r\n            </div>\r\n          ) : (\r\n            <div className=\"movies\">\r\n                {movies &&\r\n                  movies.map(movie => (\r\n                    movie && movie.id && movie.title && 0 < movie.year &&\r\n                    <Movie\r\n                      key={movie.id}\r\n                      id={movie.id}\r\n                      title={movie.title}\r\n                      slug={movie.slug}\r\n                      genres={movie.genres}\r\n                      rating={movie.rating}\r\n                      large_cover_image={movie.large_cover_image}\r\n                      year={movie.year}\r\n                      summary={movie.summary}\r\n                      yt_trailer_code={movie.yt_trailer_code}\r\n                      state={movie.state}\r\n                      onError={this.errorImage}\r\n                    />\r\n                  ))}\r\n            </div>\r\n          )}\r\n        </section>\r\n        {!isLoading &&\r\n          <div className=\"side\">\r\n            <button className=\"left\" onClick={this.pagePrev} disabled={prevDisable}>\r\n              &lt;\r\n            </button>\r\n            <button className=\"right\" onClick={this.pageNext} disabled={nextDisable}>\r\n              &gt;\r\n            </button>\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}