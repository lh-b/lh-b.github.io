{"version":3,"sources":["PopupDom.js","Detail.js","Movie.js","Combobox.js","App.js","index.js"],"names":["Popup","props","ref","el","document","getElementById","React","useEffect","handleClickOutside","e","getElementsByClassName","contains","target","click","addEventListener","removeEventListener","ReactDom","createPortal","children","Detail","className","onClick","onClose","title_english","src","large_cover_image","alt","title","year","rating","genres","map","genre","index","summary","slug","yt_trailer_code","allow","allowFullScreen","Movie","state","isOpenPopup","openPopup","bind","closePopup","this","setState","Component","Combobox","handleChange","onSelect","value","name","toUpperCase","options","onChange","opt","App","getMovies","a","base_url","sort_by","order_by","page","axios","get","movies","data","isLoading","selectSort","toLowerCase","selectOrder","sort_props","order_props","id","movie","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e093fa83.chunk.js","sourcesContent":["import React from \"react\";\r\nimport ReactDom from 'react-dom';\r\n\r\nfunction useOutsideAlerter(ref) {\r\n    React.useEffect(() => {\r\n        function handleClickOutside(e) {\r\n            if (!ref.getElementsByClassName(\"detail\")[0].contains(e.target)) {\r\n                document.getElementsByClassName(\"detail__close\")[0].click();\r\n            }\r\n        } document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => { document.removeEventListener(\"mousedown\", handleClickOutside); }\r\n    })\r\n};\r\n\r\nfunction Popup(props) {\r\n    const el = document.getElementById(\"popup\");\r\n    useOutsideAlerter(el);\r\n    return ReactDom.createPortal(props.children, el);\r\n};\r\n\r\nexport default Popup;","import React from 'react';\r\nimport './Detail.css';\r\n\r\nfunction Detail(props) {\r\n    return (\r\n        <div className=\"detail\">\r\n            <div className=\"detail__close\" onClick={props.onClose}>X</div>\r\n            <div className=\"detail__content\">\r\n                <h1>{props.title_english}</h1>\r\n                <img src={props.large_cover_image} alt={props.title_english} title={props.title_english} />\r\n                <h6>{props.year}</h6>\r\n                {0 < props.rating ? <h6>{props.rating} / 10</h6> : null}\r\n                {props.genres.map((genre, index) => <h6 key={index}>{genre}</h6>)}\r\n                <br /><h3>Synopsis</h3>\r\n                <div>{props.summary}</div>\r\n                <br /><h3>Trailer</h3>\r\n                <iframe className=\"detail__video\" title={props.slug} src={`https://www.youtube.com/embed/${props.yt_trailer_code}`} allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Detail;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Popup from \"./PopupDom\";\r\nimport Detail from \"./Detail\";\r\nimport './Movie.css';\r\n\r\nclass Movie extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: props.title,\r\n            title_english: props.title_english,\r\n            slug: props.slug,\r\n            genres: props.genres,\r\n            rating: props.rating,\r\n            large_cover_image: props.large_cover_image,\r\n            year: props.year,\r\n            summary: props.summary,\r\n            yt_trailer_code: props.yt_trailer_code,\r\n            state: props.state,\r\n            isOpenPopup: false\r\n        };\r\n\r\n        this.openPopup = this.openPopup.bind(this);\r\n        this.closePopup = this.closePopup.bind(this);\r\n    }\r\n\r\n    openPopup() {\r\n        this.setState({ isOpenPopup: true });\r\n    }\r\n\r\n    closePopup() {\r\n        this.setState({ isOpenPopup: false });\r\n    }\r\n\r\n    render() {\r\n        const { title, title_english, slug, genres, rating, large_cover_image, year, summary, yt_trailer_code, state, isOpenPopup } = this.state;\r\n        return (\r\n            <div className=\"movie\">\r\n                <figure onClick={this.openPopup}>\r\n                    <img className=\"movie__cover\" src={large_cover_image} alt={title_english} title={title_english} />\r\n                    <figcaption className=\"movie__caption\">\r\n                        {0 < rating ? <h4>{rating} / 10</h4> : null}\r\n                        {genres.map((genre, index) => <h4 key={index}>{genre}</h4>)}\r\n                    </figcaption>\r\n                </figure>\r\n                <div className=\"movie__data\">\r\n                    <span className=\"movie__title\" onClick={this.openPopup}>{title_english}</span>\r\n                    <p className=\"movie__year\">{year}</p>\r\n                </div>\r\n                {isOpenPopup &&\r\n                    <Popup>\r\n                        <Detail\r\n                            title={title}\r\n                            title_english={title_english}\r\n                            slug={slug}\r\n                            genres={genres}\r\n                            rating={rating}\r\n                            large_cover_image={large_cover_image}\r\n                            year={year}\r\n                            summary={summary}\r\n                            yt_trailer_code={yt_trailer_code}\r\n                            state={state}\r\n                            onClose={this.closePopup}\r\n                        />\r\n                    </Popup>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nMovie.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    title_english: PropTypes.string.isRequired,\r\n    slug: PropTypes.string.isRequired,\r\n    genres: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n    rating: PropTypes.number.isRequired,\r\n    large_cover_image: PropTypes.string.isRequired,\r\n    year: PropTypes.number.isRequired,\r\n    summary: PropTypes.string.isRequired,\r\n    yt_trailer_code: PropTypes.string.isRequired,\r\n    state: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Movie;","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport './Combobox.css';\r\n\r\nclass Combobox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name,\r\n            value: props.value.toUpperCase(),\r\n            options: props.options\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.props.onSelect(e.target.value);\r\n    }\r\n\r\n    render() {\r\n        const { name, value, options } = this.state;\r\n        return (\r\n            <form className=\"cb_box\">\r\n                <label className=\"cb_box__label\">{name}</label>\r\n                <select className=\"cb_box__control\" value={value} onChange={this.handleChange}>\r\n                    {options.map((opt, index) => <option key={index} value={opt}>{opt}</option>)}\r\n                </select>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nCombobox.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    options: PropTypes.arrayOf(PropTypes.string).isRequired\r\n}\r\n\r\nexport default Combobox;","import React from \"react\";\nimport axios from \"axios\";\nimport Movie from \"./Movie\";\nimport Combobox from \"./Combobox\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      movies: [],\n      base_url: \"https://yts.mx/api/v2/list_movies.json\",\n      sort_props: [\n        \"TITLE\",\n        \"YEAR\",\n        \"RATING\"\n      ],\n      sort_by: 'title',\n      order_props: [\n        \"DESC\",\n        \"ASC\"\n      ],\n      order_by: 'desc',\n      page: 1\n    }\n  }\n\n  getMovies = async () => {\n    const { base_url, sort_by, order_by, page } = this.state;\n    const { data: { data: { movies } } } = await axios.get(\n      `${base_url}?sort_by=${sort_by}&order_by=${order_by}&page=${page}&limit=50`\n    );\n    this.setState({ movies, isLoading: false });\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  selectSort = (data) => {\n    this.setState({\n        isLoading: true,\n        sort_by: data.toLowerCase()\n    }, () => {\n      this.getMovies();\n    });\n  }\n\n  selectOrder = (data) => {\n    this.setState({\n      isLoading: true,\n      order_by: data.toLowerCase()\n    }, () => {\n      this.getMovies();\n    });\n  }\n\n  render() {\n    const { isLoading, movies, sort_by, sort_props, order_by, order_props } = this.state;\n    return (\n      <div className=\"app\">\n        <h1 className=\"title\">Movie Box</h1>\n        {!isLoading ? (\n          <div className=\"combobox\">\n            <Combobox\n              key={sort_props}\n              name=\"Sort by\"\n              value={sort_by}\n              options={sort_props}\n              onSelect={this.selectSort}\n            />\n            <Combobox\n              key={order_props}\n              name=\"Order by\"\n              value={order_by}\n              options={order_props}\n              onSelect={this.selectOrder}\n            />\n          </div>\n        ) : (null)}\n        <section className=\"container\" id=\"popup\">\n          {isLoading ? (\n            <div className=\"loader\">\n              <span className=\"loader__text\">Loading...</span>\n            </div>\n          ) : (\n            <div className=\"movies\">\n              {movies.map(movie => (\n                <Movie\n                  key={movie.id}\n                  title={movie.title}\n                  title_english={movie.title_english}\n                  slug={movie.slug}\n                  genres={movie.genres}\n                  rating={movie.rating}\n                  large_cover_image={movie.large_cover_image}\n                  year={movie.year}\n                  summary={movie.summary}\n                  yt_trailer_code={movie.yt_trailer_code}\n                  state={movie.state}\n                />\n              ))}\n            </div>\n          )}\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}