{"version":3,"sources":["PopupDom.js","Detail.js","Movie.js","Combobox.js","App.js","index.js"],"names":["Popup","props","ref","el","document","getElementById","React","useEffect","handleClickOutside","e","getElementsByClassName","contains","target","click","addEventListener","removeEventListener","ReactDom","createPortal","children","Detail","className","onClick","onClose","title_english","src","large_cover_image","alt","title","year","rating","genres","map","genre","index","summary","yt_trailer_code","slug","allow","allowFullScreen","Movie","state","isOpenPopup","openPopup","bind","closePopup","this","setState","Component","Combobox","handleChange","onSelect","value","name","toUpperCase","options","onChange","opt","App","getMovies","a","base_url","sort_by","order_by","page","axios","get","movies","data","isLoading","prevDisable","nextDisable","selectSort","toLowerCase","selectOrder","pagePrev","pageNext","sort_props","order_props","id","movie","disabled","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e3ec3188.chunk.js","sourcesContent":["import React from \"react\";\r\nimport ReactDom from 'react-dom';\r\n\r\nfunction useOutsideAlerter(ref) {\r\n    React.useEffect(() => {\r\n        function handleClickOutside(e) {\r\n            if (!ref.getElementsByClassName(\"detail\")[0].contains(e.target)) {\r\n                document.getElementsByClassName(\"detail__close\")[0].click();\r\n            }\r\n        } document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => { document.removeEventListener(\"mousedown\", handleClickOutside); }\r\n    })\r\n};\r\n\r\nfunction Popup(props) {\r\n    const el = document.getElementById(\"popup\");\r\n    useOutsideAlerter(el);\r\n    return ReactDom.createPortal(props.children, el);\r\n};\r\n\r\nexport default Popup;","import React from 'react';\r\nimport './Detail.css';\r\n\r\nfunction Detail(props) {\r\n    return (\r\n        <div className=\"detail\">\r\n            <div className=\"detail__close\" onClick={props.onClose}>X</div>\r\n            <div className=\"detail__content\">\r\n                <h1>{props.title_english}</h1>\r\n                <img src={props.large_cover_image} alt={props.title_english} title={props.title_english} />\r\n                <h6>{props.year}</h6>\r\n                {props.rating && 0 < props.rating ? <h6>{props.rating} / 10</h6> : null}\r\n                {props.genres && props.genres.map((genre, index) => <h6 key={index}>{genre}</h6>)}\r\n                {props.summary &&\r\n                    <div>\r\n                        <h3>Synopsis</h3>\r\n                        <div>{props.summary}</div>\r\n                    </div>\r\n                }\r\n                {props.yt_trailer_code &&\r\n                    <div>\r\n                        <h3>Trailer</h3>\r\n                        <iframe className=\"detail__video\" title={props.slug} src={`https://www.youtube.com/embed/${props.yt_trailer_code}`} allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Detail;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Popup from \"./PopupDom\";\r\nimport Detail from \"./Detail\";\r\nimport './Movie.css';\r\n\r\nclass Movie extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: props.title,\r\n            title_english: props.title_english,\r\n            slug: props.slug,\r\n            genres: props.genres,\r\n            rating: props.rating,\r\n            large_cover_image: props.large_cover_image,\r\n            year: props.year,\r\n            summary: props.summary,\r\n            yt_trailer_code: props.yt_trailer_code,\r\n            state: props.state,\r\n            isOpenPopup: false\r\n        };\r\n\r\n        this.openPopup = this.openPopup.bind(this);\r\n        this.closePopup = this.closePopup.bind(this);\r\n    }\r\n\r\n    openPopup() {\r\n        this.setState({ isOpenPopup: true });\r\n    }\r\n\r\n    closePopup() {\r\n        this.setState({ isOpenPopup: false });\r\n    }\r\n\r\n    render() {\r\n        const { title, title_english, slug, genres, rating, large_cover_image, year, summary, yt_trailer_code, state, isOpenPopup } = this.state;\r\n        return (\r\n            <div className=\"movie\">\r\n                <div className=\"figure\" onClick={this.openPopup}>\r\n                    <img src={large_cover_image} alt={title_english} title={title_english} />\r\n                    <div className=\"figcaption\">\r\n                        {rating && 0 < rating ? <div>{rating} / 10</div> : null}\r\n                        {genres && genres.map((genre, index) => <div key={index}>{genre}</div>)}\r\n                    </div>\r\n                </div>\r\n                <div className=\"title\" onClick={this.openPopup}>\r\n                    <span>{title_english}</span>\r\n                </div>\r\n                <div className=\"year\">\r\n                    <span>{year}</span>\r\n                </div>\r\n                {isOpenPopup &&\r\n                    <Popup>\r\n                        <Detail\r\n                            title={title}\r\n                            title_english={title_english}\r\n                            slug={slug}\r\n                            genres={genres}\r\n                            rating={rating}\r\n                            large_cover_image={large_cover_image}\r\n                            year={year}\r\n                            summary={summary}\r\n                            yt_trailer_code={yt_trailer_code}\r\n                            state={state}\r\n                            onClose={this.closePopup}\r\n                        />\r\n                    </Popup>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nMovie.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    title_english: PropTypes.string.isRequired,\r\n    slug: PropTypes.string.isRequired,\r\n    genres: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n    rating: PropTypes.number.isRequired,\r\n    large_cover_image: PropTypes.string.isRequired,\r\n    year: PropTypes.number.isRequired,\r\n    summary: PropTypes.string.isRequired,\r\n    yt_trailer_code: PropTypes.string.isRequired,\r\n    state: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Movie;","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport './Combobox.css';\r\n\r\nclass Combobox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name,\r\n            value: props.value.toUpperCase(),\r\n            options: props.options\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.props.onSelect(e.target.value);\r\n    }\r\n\r\n    render() {\r\n        const { name, value, options } = this.state;\r\n        return (\r\n            <form className=\"cb_box\">\r\n                <label className=\"cb_box__label\">{name}</label>\r\n                <select className=\"cb_box__control\" value={value} onChange={this.handleChange}>\r\n                    {options.map((opt, index) => <option key={index} value={opt}>{opt}</option>)}\r\n                </select>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nCombobox.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    options: PropTypes.arrayOf(PropTypes.string).isRequired\r\n}\r\n\r\nexport default Combobox;","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Movie from \"./Movie\";\r\nimport Combobox from \"./Combobox\";\r\nimport \"./App.css\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      prevDisable: true,\r\n      nextDisable: true,\r\n      movies: [],\r\n      base_url: \"https://yts.mx/api/v2/list_movies.json\",\r\n      sort_props: [\r\n        \"RATING\",\r\n        \"TITLE\",\r\n        \"YEAR\"\r\n      ],\r\n      sort_by: 'rating',\r\n      order_props: [\r\n        \"DESC\",\r\n        \"ASC\"\r\n      ],\r\n      order_by: 'desc',\r\n      page: 1\r\n    }\r\n  }\r\n\r\n  getMovies = async () => {\r\n    const { base_url, sort_by, order_by, page } = this.state;\r\n    const { data: { data: { movies } } } = await axios.get(\r\n      `${base_url}?sort_by=${sort_by}&order_by=${order_by}&page=${page}&limit=50`\r\n    );\r\n    this.setState({ movies, isLoading: false });\r\n    \r\n    if (1< this.state.page) {\r\n      this.setState({\r\n        prevDisable: false\r\n      })\r\n    }\r\n    else {\r\n      this.setState({\r\n        prevDisable: true\r\n      })\r\n    }\r\n\r\n    if (this.state.page < 691) {\r\n      this.setState({\r\n        nextDisable: false\r\n      })\r\n    }\r\n    else {\r\n      this.setState({\r\n        nextDisable: true\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getMovies();\r\n  }\r\n\r\n  selectSort = (data) => {\r\n    this.setState({\r\n        isLoading: true,\r\n        sort_by: data.toLowerCase()\r\n    }, () => {\r\n      this.getMovies();\r\n    });\r\n  }\r\n\r\n  selectOrder = (data) => {\r\n    this.setState({\r\n      isLoading: true,\r\n      order_by: data.toLowerCase()\r\n    }, () => {\r\n      this.getMovies();\r\n    });\r\n  }\r\n\r\n  pagePrev = () => {\r\n    if (1 < this.state.page) {\r\n      this.setState({\r\n        isLoading: true,\r\n        page: this.state.page - 1\r\n      }, () => {\r\n        this.getMovies();\r\n      });\r\n    }\r\n  }\r\n\r\n  pageNext = () => {\r\n    if (this.state.page < 691) {\r\n      this.setState({\r\n        isLoading: true,\r\n        page: this.state.page + 1\r\n      }, () => {\r\n        this.getMovies();\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, prevDisable, nextDisable, movies, sort_by, sort_props, order_by, order_props } = this.state;\r\n    return (\r\n      <div className=\"app\">\r\n        <h1 className=\"title\">Movie Box</h1>\r\n        {!isLoading ? (\r\n          <div className=\"ctrl\">\r\n            <div className=\"ctrl__search\">\r\n\r\n            </div>\r\n            <div className=\"ctrl__select\">\r\n              <Combobox\r\n                key=\"sort_by\"\r\n                name=\"Sort by\"\r\n                value={sort_by}\r\n                options={sort_props}\r\n                onSelect={this.selectSort}\r\n              />\r\n              <Combobox\r\n                key=\"order_by\"\r\n                name=\"Order by\"\r\n                value={order_by}\r\n                options={order_props}\r\n                onSelect={this.selectOrder}\r\n              />\r\n            </div>\r\n          </div>\r\n        ) : (null)}\r\n        <section className=\"container\" id=\"popup\">\r\n          {isLoading ? (\r\n            <div className=\"loader\">\r\n              <span>Loading data...</span>\r\n            </div>\r\n          ) : (\r\n            <div className=\"movies\">\r\n              {movies &&\r\n              movies.map(movie => (\r\n                movie && movie.id && movie.title && movie.large_cover_image &&\r\n                <Movie\r\n                  key={movie.id}\r\n                  title={movie.title}\r\n                  title_english={movie.title_english}\r\n                  slug={movie.slug}\r\n                  genres={movie.genres}\r\n                  rating={movie.rating}\r\n                  large_cover_image={movie.large_cover_image}\r\n                  year={movie.year}\r\n                  summary={movie.summary}\r\n                  yt_trailer_code={movie.yt_trailer_code}\r\n                  state={movie.state}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </section>\r\n        {!isLoading ? (\r\n          <div className=\"side\">\r\n            <button className=\"side__left\" onClick={this.pagePrev} disabled={prevDisable}>\r\n              &lt;\r\n            </button>\r\n            <button className=\"side__right\" onClick={this.pageNext} disabled={nextDisable}>\r\n              &gt;\r\n            </button>\r\n          </div>\r\n        ) : (null)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}