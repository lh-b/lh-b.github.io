<div id="globeViz" class="earth"></div>

<script type="text/jsx">
  const { useState, useEffect } = React;

  const World = () => {
    const [countries, setCountries] = useState({ features: []});

    useEffect(() => {
      fetch('../assets/data/ne_110m_admin_0_countries.geojson').then(res => res.json()).then(setCountries);
    }, []);

    return (
      <Globe
        width={1280}
        height={800}
        globeImageUrl="//unpkg.com/three-globe/example/img/earth-blue-marble.jpg"
        bumpImageUrl="//unpkg.com/three-globe/example/img/earth-topology.png"
        backgroundImageUrl="//unpkg.com/three-globe/example/img/night-sky.png"
        hexPolygonsData={countries.features}
        hexPolygonResolution={3}
        hexPolygonMargin={0.01}
        hexPolygonColor={() => `#${Math.round(Math.random() * Math.pow(2,24)).toString(16).padStart(6,'0')}6e`}
        hexPolygonLabel={({ properties: d }) => `
          <b>${d.ADMIN} (${d.ISO_A2})</b> <br>
          인구수: <i>${d.POP_EST.toLocaleString(navigator.language)} (${d.POP_YEAR})</i> <br>
          인구순위: <i>${d.POP_RANK}</i> <br>
        `}
      />
    )
  };

  ReactDOM.render(
    <World />,
    document.getElementById('globeViz')
  );
</script>

<!-- Globe.gl Setting -->
<script src="//unpkg.com/react/umd/react.production.min.js"></script>
<script src="//unpkg.com/react-dom/umd/react-dom.production.min.js"></script>
<script src="//unpkg.com/babel-standalone"></script>

<script src="//unpkg.com/react-globe.gl"></script>